# ğŸŒ»Sunflower

## é¡¹ç›®ç®€ä»‹

> Sunflower æ˜¯ä¸€ä¸ªä¸“ä¸ºå›¢é˜Ÿé¡¹ç›®éƒ¨ç½²æ‰“é€ çš„ GitLab CI/CD æµæ°´çº¿ç®¡ç†å·¥å…·ï¼Œæ—¨åœ¨é€šè¿‡ç»Ÿä¸€ç®¡æ§ä¸é«˜æ•ˆæ•´åˆï¼Œä¼˜åŒ–å›¢é˜Ÿé¡¹ç›®çš„æ„å»ºã€æµ‹è¯•å’Œéƒ¨ç½²æµç¨‹ã€‚

## ç›®å½•ç»“æ„

```
project/
â”œâ”€â”€ eagle/
â”‚   â”œâ”€â”€ ci.yaml          # å‰ç«¯é¡¹ç›®çš„ CI é…ç½®
â”‚   â”œâ”€â”€ cd.yaml          # å‰ç«¯é¡¹ç›®çš„ CD é…ç½®
â”‚   â””â”€â”€ variables.yaml   # å‰ç«¯é¡¹ç›® Eagle çš„å˜é‡é…ç½®
â””â”€â”€ dolphin/
    â”œâ”€â”€ ci.yaml          # åç«¯é¡¹ç›®çš„ CI é…ç½®
    â”œâ”€â”€ cd.yaml          # åç«¯é¡¹ç›®çš„ CD é…ç½®
    â””â”€â”€ variables.yaml   # åç«¯é¡¹ç›® Dolphin çš„å˜é‡é…ç½®
```

## ä½¿ç”¨è¯´æ˜

1. **å˜é‡é…ç½®**

   åœ¨ `variables.yaml` æ–‡ä»¶ä¸­é…ç½®é¡¹ç›®æ‰€éœ€çš„ç¯å¢ƒå˜é‡ï¼ŒåŒ…æ‹¬ GitLab ä¿¡æ¯ã€Docker æ³¨å†Œè¡¨ä¿¡æ¯ã€é¡¹ç›®ä¿¡æ¯ç­‰ã€‚

2. **CI/CD é…ç½®**

    - åœ¨ `ci.yaml` æ–‡ä»¶ä¸­é…ç½®é¡¹ç›®æ„å»ºé˜¶æ®µæ‰€éœ€çš„æµç¨‹ï¼ŒåŒ…æ‹¬å‰åç«¯æ‰“åŒ…ã€é•œåƒæ„å»ºå’Œç›¸å…³ç¼“å­˜ä¼˜åŒ–ã€‚
    - åœ¨ `cd.yaml` æ–‡ä»¶ä¸­é…ç½®é¡¹ç›®éƒ¨ç½²é˜¶æ®µæ‰€éœ€çš„æµç¨‹ã€‚

3. **è§¦å‘æµæ°´çº¿**

   åœ¨å®é™…é¡¹ç›®ä¸­ç¼–å†™ `.gitlab-ci.yaml` æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹

   ```yaml
   include:
     - project: "ci-cd/pipeline-template"
       ref: main
       file:
         - "/project/dolphin/ci.yaml"
         - "/project/dolphin/cd.yaml"
   
   stages:
     - ci-build
     - ci-image-build
     - cd
   
   ci-build:
     stage: ci-build
     extends: [ .build ]
     allow_failure: false
   
   ci-image-build:
     stage: ci-image-build
     extends: [ .image-build ]
     allow_failure: false
   
   cd:
     stage: cd
     extends: [ .deploy ]
   ```

   é€šè¿‡ GitLab ç•Œé¢æˆ– API è§¦å‘ CI/CD æµæ°´çº¿ã€‚

## è´¡çŒ®

æ¬¢è¿ä»»ä½•å½¢å¼çš„è´¡çŒ®ï¼è¯·æäº¤é—®é¢˜æˆ–æ‹‰å–è¯·æ±‚ï¼Œæ‚¨çš„å‚ä¸å°†ä½¿é¡¹ç›®æ›´åŠ å®Œå–„ã€‚

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ï¼Œè¯¦ç»†ä¿¡æ¯è¯·å‚è§ LICENSE æ–‡ä»¶ã€‚

